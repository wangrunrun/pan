<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <script>
        var scale = 1;
        !function (e) {
            function t(a) {
                if (i[a]) return i[a].exports;
                var n = i[a] = {exports: {}, id: a, loaded: !1};
                return e[a].call(n.exports, n, n.exports, t), n.loaded = !0, n.exports
            }

            var i = {};
            return t.m = e, t.c = i, t.p = "", t(0)
        }([function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {value: !0});
            var i = window;
            t["default"] = i.flex = function (e, t) {
                var a = e || 100, n = t || 1, r = i.document, o = navigator.userAgent,
                    d = o.match(/Android[\S\s]+AppleWebkit\/(\d{3})/i), l = o.match(/U3\/((\d+|\.){5,})/i),
                    c = l && parseInt(l[1].split(".").join(""), 10) >= 80,
                    p = navigator.appVersion.match(/(iphone|ipad|ipod)/gi), s = i.devicePixelRatio || 1;
                p || d && d[1] > 534 || c || (s = 1);
                var u = 1 / s, m = r.querySelector('meta[name="viewport"]');
                scale = 1 / s;
                m || (m = r.createElement("meta"), m.setAttribute("name", "viewport"), r.head.appendChild(m)), m.setAttribute("content", "width=device-width,user-scalable=no,initial-scale=" + u + ",maximum-scale=" + u + ",minimum-scale=" + u), r.documentElement.style.fontSize = a / 2 * s * n + "px"
            }, e.exports = t["default"]
        }]);
        flex(100, 1);</script>
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <title>回未广告</title>
    <style type="text/css">
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #img {
            margin-top: -9.5rem;
            margin-left: calc(-9.5rem + 50vw);
            width: 19rem;
            height: 19rem;
            background: url(./img/pan.png);
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            transform-origin: 50% 50%;
            -webkit-transform-origin: 50% 50%;
            -webkit-animation: 5s linear 0s infinite circle;
            -moz-animation: 5s linear 0s infinite circle;
            animation-fill-mode: forwards; /*动画播放完毕时停止，不回到初始状态*/
            -webkit-animation-fill-mode: forwards;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }

        #zhi {
            touch-action: none;
            position: absolute;
            right: 0px;
            top: 4.68rem;
            width: 4.3rem;
            height: 3.94rem;
        }

        #bottom {
            position: absolute;
            width: 100%;
            bottom: 0.2rem;
        }

        img {
            width: 100%;
        }

        .button {
            width: 3.24rem;
            height: 0.88rem;
            float: right;
        }

        @keyframes circle {
            form {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @-webkit-keyframes circle { /* Safari and Chrome */
            form {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .musicName {
            color: #717272;
            margin-left: 0.4rem;
            padding-top: 0.2rem;
            width: 3.60rem;
            line-height: 0.5rem;
            float: left;
            font-size: 0.22rem;
            position: relative;
            overflow: hidden;
        }

        .musicNameTop {
            z-index: 10;
            background: linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0) 30%, rgba(255, 255, 255, 0) 70%, rgba(255, 255, 255, 1));
            color: #717272;
            height: 0.7rem;
            position: absolute;
            width: 3.60rem;
        }

        #con {
            height: .5rem;
            overflow: hidden;
            word-break: keep-all;
            white-space: nowrap;
            font-size: 0.28rem;
        }

        #con #conp {
            display: inline-block;
            word-break: keep-all;
            white-space: nowrap;
            margin: 0;
            margin-left: 3.60rem;
            -webkit-animation: 5s linear 0s infinite line;
            -moz-animation: 5s linear 0s infinite line;
        }
        @keyframes line {
            form {
                transform:translateX(0);
            }
            to {
                transform:translateX(-10rem);
            }
        }

        @-webkit-keyframes line { /* Safari and Chrome */
            form {
                transform: translateX(0);
            }
            to {
                transform: translateX(-10rem);
            }
        }
    </style>
</head>
<body>
<div id="img">
</div>
<div id="zhi">
    <img src="img/zhi.png">
</div>
<div id="bottom">
    <div class="musicName">
        <div class="musicNameTop"></div>
        <div id="con">
            <div id="conp">
                I Feel It Coming (feat. Daft Punk)  - The Weeknd
            </div>
        </div>
    </div>
    <div class="button"><img src="img/but.png"></div>
    <img src="img/bot.png">
</div>
<audio src="./studio/1.mp3" autoplay="autoplay" style="display: none" id="bg-music"></audio>
</body>
<script type="text/javascript">
    var audio = document.getElementById('bg-music');
    // var tt=document.styleSheets[0];
    // function setKeyframes() {
    //     tt.deleteRule(12);
    //     tt.insertRule("@keyframes line{form{transform:translateX( 0 );} to{transform:translateX(-"+($('#conp').width()+360/scale)+"px)}}",12);
    //     tt.deleteRule(13);
    //     tt.insertRule("@-webkit-keyframes line{form{transform:translateX( 0 );} to{transform:translateX(-"+($('#conp').width()+360/scale)+"px)}}",13);
    // }
    // setKeyframes();
    function audioAutoPlay() {
        document.addEventListener("WeixinJSBridgeReady", function () {
            audio.play();
        }, false);
        document.addEventListener('YixinJSBridgeReady', function () {
            audio.play();
        }, false);
        document.addEventListener('touchstart', function () {
            audio.play();
        }, false);
    }

    audioAutoPlay();
    var _y_start, _y_move, top_start;
    document.getElementById("zhi").addEventListener("touchstart", function (e) {
        _y_start = e.touches[0].pageY;
        top_start = $("#zhi").css("top");
    })
    document.getElementById("zhi").addEventListener("touchmove", function (e) {
        if(event.targetTouches.length > 1 || event.scale && event.scale !== 1) return;
        _y_move = e.touches[0].pageY;
        var num = (parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start)) * scale;
        if (num < 50) {
            $("#zhi").css("top", 50 / scale);
        }
        else if (num > 235) {
            $("#zhi").css("top", 235 / scale);
        }
        else {
            $("#zhi").css("top", parseFloat(_y_move) - parseFloat(_y_start) + parseFloat(top_start) + "px");
        }
    });
    var musicList=["./studio/1.mp3","./studio/Dreaming.mp3","./studio/Grand Illusion.mp3"];
    var musicNum=0;
    document.getElementById("zhi").addEventListener("touchend", function (e) {
        $('#bg-music')[0].pause();
        musicNum++;
        $('#bg-music').attr('src', musicList[0]);
        $('#bg-music')[0].play();
        if(musicNum>=2){
            musicNum=0;
        }
    });
    //阻止浏览器下拉事件
    $('body').on('touchmove', function (event) {
        event.preventDefault();
    });

</script>
</html>